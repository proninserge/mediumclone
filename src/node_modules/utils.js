import { parse, stringify } from 'query-string'

export const range = (start, end) => {
  return [...Array(end).keys()].map((item) => item + start)
}

export const LIMIT = 10

export const getPaginator = (search) => {
  const parsedSearch = parse(search)
  const currentPage = parsedSearch.page ? Number(parsedSearch.page) : 1
  const offset = currentPage * 10 - LIMIT
  return { currentPage, offset }
}

export const getApiUrl = ({ username, offset, isFavorites }) => {
  const params = isFavorites
    ? { limit: LIMIT, offset, favorited: username }
    : { limit: LIMIT, offset, author: username }
  return `/articles?${stringify(params)}`
}
